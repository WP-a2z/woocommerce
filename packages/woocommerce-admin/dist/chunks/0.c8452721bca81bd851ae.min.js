(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[0],{759:function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"e",(function(){return j})),r.d(t,"b",(function(){return v})),r.d(t,"f",(function(){return h})),r.d(t,"d",(function(){return w})),r.d(t,"c",(function(){return _}));var a=r(17),n=r.n(a),i=r(153),c=r.n(i),o=r(2),s=r(16),l=r.n(s),u=r(111),d=r(23),p=r(30),b=r(759);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){var t=e.endpoint,r=e.query,a=e.limitBy,i=e.filters,s=void 0===i?[]:i,p=e.advancedFilters,b=void 0===p?{}:p;return r.search?(a||[t]).reduce((function(e,t){return e[t]=r[t],e}),{}):s.map((function(e){return function(e,t,r){var a=r[e.param];if(!a)return{};if("advanced"===a){var i=Object(d.getActiveFiltersFromQuery)(r,t.filters);return 0===i.length?{}:i.map((function(e){return function(e,t){var r=e.filters[t.key];if("Date"!==Object(o.get)(r,["input","component"]))return t;var a=t.rule,n=t.value,i={after:"start",before:"end"};if(Array.isArray(n)){var s=c()(n,2),d=s[0],p=s[1];return Object.assign({},t,{value:[Object(u.a)(l()(d),i.after),Object(u.a)(l()(p),i.before)]})}return Object.assign({},t,{value:Object(u.a)(l()(n),i[a])})}(t,e)})).reduce((function(e,t){var r=t.key,a=t.rule,n=t.value;return e[Object(d.getUrlKey)(r,a)]=n,e}),{match:r.match||"all"})}var s=Object(o.find)(Object(d.flattenFilters)(e.filters),{value:a});if(!s)return{};if(s.settings&&s.settings.param){var p=s.settings.param;return r[p]?n()({},p,r[p]):{}}return n()({},e.param,a)}(e,b,r)})).reduce((function(e,t){return Object.assign(e,t)}),{})}var g=["stock","customers"];function O(e){var t=e.endpoint,r=e.dataType,a=e.query,n=e.fields,i=Object(u.f)(a,e.defaultDateRange),c=Object(u.i)(a),s=y(e),l=i[r].before;return Object(o.includes)(g,t)?m(m({},s),{},{fields:n}):m({order:"asc",interval:c,per_page:p.b,after:Object(u.a)(i[r].after,"start"),before:Object(u.a)(l,"end"),segmentby:a.segmentby,fields:n},s)}function j(e){var t=e.endpoint,r=(0,e.select)("wc-api"),a=r.getReportStats,n=r.getReportStatsError,i=r.isReportStatsRequesting,c={isRequesting:!1,isError:!1,totals:{primary:null,secondary:null}},o=O(m(m({},e),{},{dataType:"primary"})),s=a(t,o);if(i(t,o))return m(m({},c),{},{isRequesting:!0});if(n(t,o))return m(m({},c),{},{isError:!0});var l=s&&s.data&&s.data.totals||null,u=O(m(m({},e),{},{dataType:"secondary"})),d=a(t,u);if(i(t,u))return m(m({},c),{},{isRequesting:!0});if(n(t,u))return m(m({},c),{},{isError:!0});var p=d&&d.data&&d.data.totals||null;return m(m({},c),{},{totals:{primary:l,secondary:p}})}function v(e){var t=e.endpoint,r=(0,e.select)("wc-api"),a=r.getReportStats,n=r.getReportStatsError,i=r.isReportStatsRequesting,c={isEmpty:!1,isError:!1,isRequesting:!1,data:{totals:{},intervals:[]}},s=O(e),l=a(t,s);if(i(t,s))return m(m({},c),{},{isRequesting:!0});if(n(t,s))return m(m({},c),{},{isError:!0});if(function(e,t){return!e||(!e.data||(!(e.data.totals&&!Object(o.isNull)(e.data.totals))||!(Object(o.includes)(g,t)||e.data.intervals&&0!==e.data.intervals.length)))}(l,t))return m(m({},c),{},{isEmpty:!0});var u=l&&l.data&&l.data.totals||null,d=l&&l.data&&l.data.intervals||[];if(l.totalResults>p.b){for(var b=!0,f=!1,y=[],j=Math.ceil(l.totalResults/p.b),v=1,h=2;h<=j;h++){var w=m(m({},s),{},{page:h}),_=a(t,w);if(!i(t,w)){if(n(t,w)){f=!0,b=!1;break}if(y.push(_),++v===j){b=!1;break}}}if(b)return m(m({},c),{},{isRequesting:!0});if(f)return m(m({},c),{},{isError:!0});Object(o.forEach)(y,(function(e){d=d.concat(e.data.intervals)}))}return m(m({},c),{},{data:{totals:u,intervals:d}})}function h(e,t){switch(e){case"currency":return t;case"percent":return".0%";case"number":return",";case"average":return",.2r";default:return","}}function w(e){var t=e.query,r=e.tableQuery,a=void 0===r?{}:r,n=y(e),i=Object(u.f)(t,e.defaultDateRange),c=Object(o.includes)(g,e.endpoint);return m(m({orderby:t.orderby||"date",order:t.order||"desc",after:c?void 0:Object(u.a)(i.primary.after,"start"),before:c?void 0:Object(u.a)(i.primary.before,"end"),page:t.paged||1,per_page:t.per_page||p.d.pageSize},n),a)}function _(e){var t=e.endpoint,r=(0,e.select)("wc-api"),a=r.getReportItems,n=r.getReportItemsError,i=r.isReportItemsRequesting,c=b.d(e),o={query:c,isRequesting:!1,isError:!1,items:{data:[],totalResults:0}},s=a(t,c);return i(t,c)?m(m({},o),{},{isRequesting:!0}):n(t,c)?m(m({},o),{},{isError:!0}):m(m({},o),{},{items:s})}},765:function(e,t,r){"use strict";var a=r(17),n=r.n(a),i=r(42),c=r.n(i),o=r(41),s=r.n(o),l=r(65),u=r.n(l),d=r(43),p=r.n(d),b=r(47),f=r.n(b),m=r(28),y=r.n(m),g=r(0),O=r(1),j=r.n(O),v=r(2),h=r(19),w=r(55),_=r(20),R=r(48),S=r(64),k=r(111),D=r(204);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=y()(e);if(t){var n=y()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return f()(this,r)}}var q=function(e){p()(r,e);var t=P(r);function r(){var e;return c()(this,r),(e=t.call(this)).trackDateSelect=e.trackDateSelect.bind(u()(e)),e.trackFilterSelect=e.trackFilterSelect.bind(u()(e)),e.trackAdvancedFilterAction=e.trackAdvancedFilterAction.bind(u()(e)),e}return s()(r,[{key:"trackDateSelect",value:function(e){var t=this.props.report;Object(S.b)("datepicker_update",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({report:t},Object(v.omitBy)(e,v.isUndefined)))}},{key:"trackFilterSelect",value:function(e){var t=this.props.report;Object(S.b)("analytics_filter",{report:t,filter:e.filter||"all"})}},{key:"trackAdvancedFilterAction",value:function(e,t){var r=this.props.report;switch(e){case"add":Object(S.b)("analytics_filters_add",{report:r,filter:t.key});break;case"remove":Object(S.b)("analytics_filters_remove",{report:r,filter:t.key});break;case"filter":var a=Object.keys(t).reduce((function(e,r){return e[Object(v.snakeCase)(r)]=t[r],e}),{});Object(S.b)("analytics_filters_filter",{report:r,snakeCaseData:a});break;case"clear_all":Object(S.b)("analytics_filters_clear_all",{report:r});break;case"match":Object(S.b)("analytics_filters_all_any",{report:r,value:t.match})}}},{key:"render",value:function(){var e=this.props,t=e.advancedFilters,r=e.filters,a=e.path,n=e.query,i=e.showDatePicker,c=e.defaultDateRange,o=Object(k.h)(n,c),s=o.period,l=o.compare,u=o.before,d=o.after,p=Object(k.f)(n,c),b={period:s,compare:l,before:u,after:d,primaryDate:p.primary,secondaryDate:p.secondary},f=this.context;return Object(g.createElement)(w.ReportFilters,{query:n,siteLocale:_.c.siteLocale,currency:f.getCurrencyConfig(),path:a,filters:r,advancedFilters:t,showDatePicker:i,onDateSelect:this.trackDateSelect,onFilterSelect:this.trackFilterSelect,onAdvancedFilterAction:this.trackAdvancedFilterAction,dateQuery:b,isoDateFormat:k.k})}}]),r}(g.Component);q.contextType=D.a,t.a=Object(h.withSelect)((function(e){return{defaultDateRange:e(R.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings").woocommerce_default_date_range}}))(q),q.propTypes={advancedFilters:j.a.object,filters:j.a.array,path:j.a.string.isRequired,query:j.a.object,showDatePicker:j.a.bool,report:j.a.string.isRequired}},768:function(e,t,r){"use strict";var a=r(78),n=r.n(a),i=r(39),c=r.n(i),o=r(17),s=r.n(o),l=r(153),u=r.n(l),d=r(134),p=r.n(d),b=r(0),f=r(778),m=r(69),y=r(44),g=r(175),O=r(278),j=r(19),v=r(2),h=r(3),w=r(7),_=r.n(w),R=r(1),S=r.n(R),k=r(55),D=function(){return Object(b.createElement)("svg",{role:"img","aria-hidden":"true",focusable:"false",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24"},Object(b.createElement)("path",{d:"M18,9c-0.009,0-0.017,0.002-0.025,0.003C17.72,5.646,14.922,3,11.5,3C7.91,3,5,5.91,5,9.5c0,0.524,0.069,1.031,0.186,1.519 C5.123,11.016,5.064,11,5,11c-2.209,0-4,1.791-4,4c0,1.202,0.541,2.267,1.38,3h18.593C22.196,17.089,23,15.643,23,14 C23,11.239,20.761,9,18,9z M12,16l-4-5h3V8h2v3h3L12,16z"}))},E=r(23),P=r(742),q=r(48),C=r(267),F=r(759),x=r(30),A=r(104);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=r(64);r(916);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M=function(e){var t=e.getHeadersContent,r=e.getRowsContent,a=e.getSummary,i=e.isRequesting,o=e.primaryData,l=e.tableData,d=e.endpoint,g=(e.itemIdField,e.tableQuery,e.compareBy),j=e.searchBy,w=e.labels,R=void 0===w?{}:w,S=p()(e,["getHeadersContent","getRowsContent","getSummary","isRequesting","primaryData","tableData","endpoint","itemIdField","tableQuery","compareBy","searchBy","labels"]),F=e.query,A=e.columnPrefsKey,T=l.items,Q=l.query,I=F.filter?Object(E.getIdsFromQuery)(F[g]):[],M=Object(b.useState)(I),U=u()(M,2),V=U[0],z=U[1],L=Object(b.useRef)(null),H=Object(q.useUserPreferences)(),K=H.updateUserPreferences,G=p()(H,["updateUserPreferences"]);if(l.isError||o.isError)return Object(b.createElement)(C.a,{isError:!0});var J=[];A&&(J=G&&G[A]?G[A]:J);var W,X,Y,Z,$=function(t){var r=e.ids;z(t?r:[])},ee=function(t,r){var a=e.ids;if(r)z(Object(v.uniq)([a[t]].concat(c()(V))));else{var n=V.indexOf(a[t]);z([].concat(c()(V.slice(0,n)),c()(V.slice(n+1))))}},te=function(t){var r=e.ids,a=void 0===r?[]:r,n=-1!==V.indexOf(a[t]);return{display:Object(b.createElement)(f.a,{onChange:Object(v.partial)(ee,t),checked:n}),value:!1}},re=i||l.isRequesting||o.isRequesting,ae=Object(v.get)(o,["data","totals"],{}),ne=T.totalResults,ie=ne>0,ce=Object(E.getSearchWords)(F).map((function(e){return{key:e,label:e}})),oe=Object(y.applyFilters)("woocommerce_admin_report_table",{endpoint:d,headers:t(),rows:r(T.data),totals:ae,summary:a?a(ae,ne):null,items:T}),se=oe.headers,le=oe.rows,ue=oe.summary;g&&(le=le.map((function(e,t){return[te(t)].concat(c()(e))})),se=[(W=e.ids,X=void 0===W?[]:W,Y=X.length>0,Z=Y&&X.length===V.length,{cellClassName:"is-checkbox-column",key:"compare",label:Object(b.createElement)(f.a,{onChange:$,"aria-label":Object(h.__)("Select All"),checked:Z,disabled:!Y}),required:!0})].concat(c()(se)));var de=function(e,t){return t?e.map((function(e){return N(N({},e),{},{visible:e.required||!t.includes(e.key)})})):e.map((function(e){return N(N({},e),{},{visible:e.required||!e.hiddenByDefault})}))}(se,J),pe=_()("woocommerce-report-table",{"has-compare":!!g,"has-search":!!j});return Object(b.createElement)(b.Fragment,null,Object(b.createElement)("div",{className:"woocommerce-report-table__scroll-point",ref:L,"aria-hidden":!0}),Object(b.createElement)(k.TableCard,n()({className:pe,actions:[g&&Object(b.createElement)(k.CompareButton,{key:"compare",className:"woocommerce-table__compare",count:V.length,helpText:R.helpText||Object(h.__)("Check at least two items below to compare",'woocommerce'),onClick:function(){var t=e.compareParam;g&&Object(E.onQueryChange)("compare")(g,t,V.join(","))},disabled:!ie},R.compareButton||Object(h.__)("Compare",'woocommerce')),j&&Object(b.createElement)(k.Search,{allowFreeTextSearch:!0,inlineTags:!0,key:"search",onChange:function(t){var r,a=e.baseSearchQuery,n=e.compareParam,i=t.map((function(e){return e.label.replace(",","%2C")}));i.length?Object(E.updateQueryString)(N(N((r={filter:void 0},s()(r,n,void 0),s()(r,j,void 0),r),a),{},{search:Object(v.uniq)(i).join(",")})):Object(E.updateQueryString)({search:void 0});Object(B.b)("analytics_table_filter",{report:d})},placeholder:R.placeholder||Object(h.__)("Search by item name",'woocommerce'),selected:ce,showClearButton:!0,type:j,disabled:!ie}),ie&&Object(b.createElement)(m.a,{key:"download",className:"woocommerce-table__download-button",disabled:re,onClick:function(){var a=e.initiateReportExport,n=e.title,i=Object.assign({},F),c=T.data,o=T.totalResults,s="browser";delete i.extended_info,i.search&&delete i[j],c&&c.length===o?Object(P.downloadCSVFile)(Object(P.generateCSVFileName)(n,i),Object(P.generateCSVDataFromTable)(t(),r(c))):(s="email",a(d,n,Q)),Object(B.b)("analytics_table_download",{report:d,rows:o,downloadType:s})}},Object(b.createElement)(D,null),Object(b.createElement)("span",{className:"woocommerce-table__download-button__label"},R.downloadButton||Object(h.__)("Download",'woocommerce')))],headers:de,isLoading:re,onQueryChange:E.onQueryChange,onColumnsChange:function(e,r){var a=t().map((function(e){return e.key})).filter((function(t){return!e.includes(t)}));if(A){var n=s()({},A,a);K(n)}if(r){var i={report:d,column:r,status:e.includes(r)?"on":"off"};Object(B.b)("analytics_table_header_toggle",i)}},onSort:function(e,t){Object(E.onQueryChange)("sort")(e,t);var r={report:d,column:e,direction:t};Object(B.b)("analytics_table_sort",r)},onPageChange:function(e,t){L.current.scrollIntoView();var r=L.current.nextSibling.querySelector(".woocommerce-table__table"),a=O.a.focusable.find(r);a.length&&a[0].focus(),t&&("goto"===t?Object(B.b)("analytics_table_go_to_page",{report:d,page:e}):Object(B.b)("analytics_table_page_click",{report:d,direction:t}))},rows:le,rowsPerPage:parseInt(Q.per_page,10)||x.d.pageSize,summary:ue,totalRows:ne},S)))};M.propTypes={baseSearchQuery:S.a.object,compareBy:S.a.string,compareParam:S.a.string,columnPrefsKey:S.a.string,endpoint:S.a.string,extendItemsMethodNames:S.a.shape({getError:S.a.string,isRequesting:S.a.string,load:S.a.string}),getHeadersContent:S.a.func.isRequired,getRowsContent:S.a.func.isRequired,getSummary:S.a.func,itemIdField:S.a.string,labels:S.a.shape({compareButton:S.a.string,downloadButton:S.a.string,helpText:S.a.string,placeholder:S.a.string}),primaryData:S.a.object,searchBy:S.a.string,summaryFields:S.a.arrayOf(S.a.string),tableData:S.a.object.isRequired,tableQuery:S.a.object,title:S.a.string.isRequired},M.defaultProps={primaryData:{},tableData:{items:{data:[],totalResults:0},query:{}},tableQuery:{},compareParam:"filter",downloadable:!1,onSearch:v.noop,baseSearchQuery:{}};t.a=Object(g.a)(Object(A.a)((function(e,t){var r=t.endpoint,a=t.getSummary,n=t.isRequesting,i=t.itemIdField,c=t.query,o=t.tableData,s=t.tableQuery,l=t.filters,u=t.advancedFilters,d=t.summaryFields;if(n||c.search&&(!c[r]||!c[r].length))return{};var p=e(q.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings").woocommerce_default_date_range,b=["variations","categories"].includes(r)?"products":r,f=a?Object(F.b)({endpoint:b,dataType:"primary",query:c,select:e,filters:l,advancedFilters:u,tableQuery:s,defaultDateRange:p,fields:d}):{},m=function(e,t,r){var a=t.extendItemsMethodNames,n=t.itemIdField,i=r.items.data;if(!(Array.isArray(i)&&i.length&&a&&n))return r;var c=e("wc-api"),o=c[a.getError],s=c[a.isRequesting],l=c[a.load],u={include:i.map((function(e){return e[n]})).join(","),per_page:i.length},d=l(u),p=!!s&&s(u),b=!!o&&o(u),f=i.map((function(e){var t=Object(v.first)(d.filter((function(t){return e.id===t.id})));return Q(Q({},e),t)})),m=r.isRequesting||p,y=r.isError||b;return Q(Q({},r),{},{isRequesting:m,isError:y,items:Q(Q({},r.items),{},{data:f})})}(e,t,o||Object(F.c)({endpoint:r,query:c,select:e,tableQuery:s,filters:l,advancedFilters:u,defaultDateRange:p}));return{primaryData:f,ids:i?m.items.data.map((function(e){return e[i]})):[],tableData:m,query:N(N({},s),c)}})),Object(j.withDispatch)((function(e){return{initiateReportExport:e("wc-api").initiateReportExport}})))(M)},916:function(e,t,r){}}]);
