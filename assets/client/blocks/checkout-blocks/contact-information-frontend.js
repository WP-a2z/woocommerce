(self.webpackChunkwebpackWcBlocksFrontendJsonp=self.webpackChunkwebpackWcBlocksFrontendJsonp||[]).push([[3398],{4597:(e,t,o)=>{"use strict";o.d(t,{l:()=>U});var l=o(1609),n=o(4656),r=o(6087),s=o(7723),a=o(8537),i=o(851),c=o(332),d=o(3993),u=o(7143),p=o(7594),m=o(7104),g=o(9813),h=o(224);o(1707);const f=({id:e,className:t,label:o,onChange:a,options:f,value:E,required:v=!1,errorId:C,autoComplete:y="off",errorMessage:_=(0,s.__)("Please select a valid option","woocommerce")})=>{const b=(0,r.useRef)(null),k=(0,r.useId)(),A=e||"control-"+k,S=C||A,{setValidationErrors:w,clearValidationError:T}=(0,u.useDispatch)(p.VALIDATION_STORE_KEY),{error:I,validationErrorId:O}=(0,u.useSelect)((e=>{const t=e(p.VALIDATION_STORE_KEY);return{error:t.getValidationError(S),validationErrorId:t.getValidationErrorId(S)}})),[N,R]=(0,r.useState)(!1);return(0,r.useEffect)((()=>(!v||E?T(S):w({[S]:{message:_,hidden:!0}}),()=>{T(S)})),[T,E,S,_,v,w]),(0,l.createElement)("div",{id:A,className:(0,i.A)("wc-block-components-combobox",t,{"is-active":E,"has-error":(null==I?void 0:I.message)&&!(null!=I&&I.hidden)}),ref:b,onFocus:()=>R(!0),onBlur:()=>R(!1)},(0,l.createElement)(c.A,{className:"wc-block-components-combobox-control",label:o,onChange:e=>{a(e),R(!1)},onSelect:()=>R(!1),onFilterValueChange:e=>{if(e.length){const t=(0,d.isObject)(b.current)?b.current.ownerDocument.activeElement:void 0;if(t&&(0,d.isObject)(b.current)&&b.current.contains(t))return;const o=e.toLocaleUpperCase(),l=f.find((e=>e.value.toLocaleUpperCase()===o));if(l)return void a(l.value);const n=f.find((e=>e.label.toLocaleUpperCase().startsWith(o)));n&&a(n.value)}},options:f,value:E||"",allowReset:!1,autoComplete:y,"aria-invalid":(null==I?void 0:I.message)&&!(null!=I&&I.hidden),"aria-errormessage":O}),(0,l.createElement)(m.A,{icon:N?g.A:h.A}),(0,l.createElement)(n.ValidationInputError,{propertyName:S}))};o(2931);const E=({className:e,countries:t,id:o,label:n,onChange:c,value:d="",autoComplete:u="off",required:p=!1,errorId:m,errorMessage:g=(0,s.__)("Please select a country","woocommerce")})=>{const h=(0,r.useMemo)((()=>Object.entries(t).map((([e,t])=>({value:e,label:(0,a.decodeEntities)(t)})))),[t]);return(0,l.createElement)("div",{className:(0,i.A)(e,"wc-block-components-country-input")},(0,l.createElement)(f,{id:o,label:n,onChange:c,options:h,value:d,errorId:m,errorMessage:g,required:p,autoComplete:u}))};var v=o(812);const C=e=>(0,l.createElement)(E,{countries:v.AG,...e}),y=e=>(0,l.createElement)(E,{countries:v.G3,...e});o(8824);const _=(e,t)=>{const o=t.find((t=>t.label.toLocaleUpperCase()===e.toLocaleUpperCase()||t.value.toLocaleUpperCase()===e.toLocaleUpperCase()));return o?o.value:""},b=({className:e,id:t,states:o,country:c,label:d,onChange:u,autoComplete:p="off",value:m="",required:g=!1,errorId:h=""})=>{const E=o[c],v=(0,r.useMemo)((()=>E?Object.keys(E).map((e=>({value:e,label:(0,a.decodeEntities)(E[e])}))):[]),[E]),C=(0,r.useCallback)((e=>{const t=v.length>0?_(e,v):e;t!==m&&u(t)}),[u,v,m]),y=(0,r.useRef)(m);return(0,r.useEffect)((()=>{y.current!==m&&(y.current=m)}),[m]),(0,r.useEffect)((()=>{if(v.length>0&&y.current){const e=_(y.current,v);e!==y.current&&C(e)}}),[v,C]),v.length>0?(0,l.createElement)(f,{className:(0,i.A)(e,"wc-block-components-state-input"),id:t,label:d,onChange:C,options:v,value:m,errorMessage:(0,s.__)("Please select a state.","woocommerce"),errorId:h,required:g,autoComplete:p}):(0,l.createElement)(n.ValidatedTextInput,{className:e,id:t,label:d,onChange:C,autoComplete:p,value:m,required:g})},k=e=>(0,l.createElement)(b,{states:v.uz,...e}),A=e=>(0,l.createElement)(b,{states:v.SL,...e});var S=o(9491),w=o(1573),T=o(923),I=o.n(T),O=o(8585);var N=o(1e3),R=o(3832);const V=({field:e,props:t,onChange:o,value:a})=>{var i;const c=null!==(i=null==e?void 0:e.required)&&void 0!==i&&i,[d,u]=(0,r.useState)((()=>Boolean(a)||c));return(0,l.createElement)(r.Fragment,null,d?(0,l.createElement)(n.ValidatedTextInput,{...t,type:e.type,label:c?e.label:e.optionalLabel,className:`wc-block-components-address-form__${e.key}`,value:a,onChange:t=>o(e.key,t)}):(0,l.createElement)("button",{className:"wc-block-components-address-form__address_2-toggle",onClick:()=>u(!0)},(0,s.sprintf)(
// translators: %s: address 2 field label.
// translators: %s: address 2 field label.
(0,s.__)("+ Add %s","woocommerce"),e.label.toLowerCase())))},F=(e,t,o)=>({id:`${t}-${null==e?void 0:e.key}`.replaceAll("/","-"),errorId:`${o}_${null==e?void 0:e.key}`,label:null!=e&&e.required?null==e?void 0:e.label:null==e?void 0:e.optionalLabel,autoCapitalize:null==e?void 0:e.autocapitalize,autoComplete:null==e?void 0:e.autocomplete,errorMessage:null==e?void 0:e.errorMessage,required:null==e?void 0:e.required,className:`wc-block-components-address-form__${null==e?void 0:e.key}`.replaceAll("/","-"),...null==e?void 0:e.attributes}),K=(e,t,o)=>({field:t.find((t=>t.key===e)),value:(0,d.objectHasProp)(o,e)?o[e]:void 0}),B=({formId:e,address1:t,address2:o,addressType:r,onChange:s})=>{var a,i,c,d;const u=t?F(t.field,e,r):void 0,p=o?F(o.field,e,r):void 0;return(0,l.createElement)(l.Fragment,null,t&&(0,l.createElement)(n.ValidatedTextInput,{...u,type:null===(a=t.field)||void 0===a?void 0:a.type,label:null===(i=t.field)||void 0===i?void 0:i.label,className:`wc-block-components-address-form__${null===(c=t.field)||void 0===c?void 0:c.key}`,value:t.value,onChange:e=>{var o;return s(null===(o=t.field)||void 0===o?void 0:o.key,e)}}),(null==o?void 0:o.field)&&!(null!=o&&null!==(d=o.field)&&void 0!==d&&d.hidden)&&(0,l.createElement)(V,{field:o.field,props:p,onChange:s,value:null==o?void 0:o.value}))},L=({id:e="",fields:t,fieldConfig:o={},onChange:a,addressType:c="shipping",values:m,children:g})=>{const h=(0,S.useInstanceId)(L),E=(0,w.c)(t),v=(0,w.c)(o),_=(0,w.c)((0,d.objectHasProp)(m,"country")?m.country:""),b=(0,r.useMemo)((()=>{const e=(0,O.A)(E,v,_);return{fields:e,addressType:c,required:e.filter((e=>e.required)),hidden:e.filter((e=>e.hidden))}}),[E,v,_,c]),T=(0,r.useRef)({});return(0,r.useEffect)((()=>{const e={...m,...Object.fromEntries(b.hidden.map((e=>[e.key,""])))};I()(m,e)||a(e)}),[a,b,m]),(0,r.useEffect)((()=>{"shipping"===c&&(0,d.objectHasProp)(m,"country")&&(e=>{const t="shipping_country",o=(0,u.select)(p.VALIDATION_STORE_KEY).getValidationError(t);!e.country&&(e.city||e.state||e.postcode)&&(o?(0,u.dispatch)(p.VALIDATION_STORE_KEY).showValidationError(t):(0,u.dispatch)(p.VALIDATION_STORE_KEY).setValidationErrors({[t]:{message:(0,s.__)("Please select your country","woocommerce"),hidden:!1}})),o&&e.country&&(0,u.dispatch)(p.VALIDATION_STORE_KEY).clearValidationError(t)})(m)}),[m,c]),(0,r.useEffect)((()=>{var e,t;null===(e=T.current)||void 0===e||null===(t=e.postcode)||void 0===t||t.revalidate()}),[_]),e=e||`${h}`,(0,l.createElement)("div",{id:e,className:"wc-block-components-address-form"},b.fields.map((t=>{if(t.hidden)return null;const o=F(t,e,c);if("email"===t.key&&(o.id="email",o.errorId="billing_email"),"checkbox"===t.type)return(0,l.createElement)(n.CheckboxControl,{key:t.key,checked:Boolean(m[t.key]),onChange:e=>{a({...m,[t.key]:e})},...o});if("address_1"===t.key){const o=K("address_1",b.fields,m),n=K("address_2",b.fields,m);return(0,l.createElement)(B,{address1:o,address2:n,addressType:c,formId:e,key:t.key,onChange:(e,t)=>{a({...m,[e]:t})}})}if("address_2"===t.key)return null;if("country"===t.key&&(0,d.objectHasProp)(m,"country")){const e="shipping"===c?y:C;return(0,l.createElement)(e,{key:t.key,...o,value:m.country,onChange:e=>{a({...m,country:e,state:"",postcode:""})}})}if("state"===t.key&&(0,d.objectHasProp)(m,"state")){const e="shipping"===c?A:k;return(0,l.createElement)(e,{key:t.key,...o,country:m.country,value:m.state,onChange:e=>a({...m,state:e})})}return"select"===t.type?void 0===t.options?null:(0,l.createElement)(f,{key:t.key,...o,className:(0,i.A)("wc-block-components-select-input",`wc-block-components-select-input-${t.key}`.replaceAll("/","-")),value:m[t.key],onChange:e=>{a({...m,[t.key]:e})},options:t.options}):(0,l.createElement)(n.ValidatedTextInput,{key:t.key,ref:e=>T.current[t.key]=e,...o,type:t.type,value:m[t.key],onChange:e=>a({...m,[t.key]:e}),customFormatter:e=>"postcode"===t.key?e.trimStart().toUpperCase():e,customValidation:e=>((e,t,o)=>!((e.required||e.value)&&("postcode"===t&&o&&!(0,N.isPostcode)({postcode:e.value,country:o})?(e.setCustomValidity((0,s.__)("Please enter a valid postcode","woocommerce")),1):"email"===t&&!(0,R.isEmail)(e.value)&&(e.setCustomValidity((0,s.__)("Please enter a valid email address","woocommerce")),1))))(e,t.key,(0,d.objectHasProp)(m,"country")?m.country:"")})})),g)},U=L},5251:(e,t,o)=>{"use strict";o.d(t,{C:()=>c});var l=o(5703),n=o(6087),r=o(7143),s=o(7594),a=o(4107),i=o(4958);const c=()=>{const{needsShipping:e}=(0,i.m)(),{useShippingAsBilling:t,prefersCollection:o}=(0,r.useSelect)((e=>({useShippingAsBilling:e(s.CHECKOUT_STORE_KEY).getUseShippingAsBilling(),prefersCollection:e(s.CHECKOUT_STORE_KEY).prefersCollection()}))),{__internalSetUseShippingAsBilling:c}=(0,r.useDispatch)(s.CHECKOUT_STORE_KEY),{billingAddress:d,setBillingAddress:u,shippingAddress:p,setShippingAddress:m}=(0,a.q)(),g=(0,n.useCallback)((e=>{u({email:e})}),[u]),h=(0,l.getSetting)("forcedBillingAddress",!1);return{shippingAddress:p,billingAddress:d,setShippingAddress:m,setBillingAddress:u,setEmail:g,defaultFields:l.defaultFields,useShippingAsBilling:t,setUseShippingAsBilling:c,needsShipping:e,showShippingFields:!h&&e&&!o,showShippingMethods:e&&!o,showBillingFields:!e||!t||!!o,forcedBillingAddress:h,useBillingAsShipping:h||!!o}}},4107:(e,t,o)=>{"use strict";o.d(t,{q:()=>r});var l=o(7143),n=o(7594);const r=()=>{const{customerData:e,isInitialized:t}=(0,l.useSelect)((e=>{const t=e(n.CART_STORE_KEY);return{customerData:t.getCustomerData(),isInitialized:t.hasFinishedResolution("getCartData")}})),{setShippingAddress:o,setBillingAddress:r}=(0,l.useDispatch)(n.CART_STORE_KEY);return{isInitialized:t,billingAddress:e.billingAddress,shippingAddress:e.shippingAddress,setBillingAddress:r,setShippingAddress:o}}},1573:(e,t,o)=>{"use strict";o.d(t,{c:()=>s});var l=o(6087),n=o(923),r=o.n(n);function s(e){const t=(0,l.useRef)(e);return r()(e,t.current)||(t.current=e),t.current}},9017:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});var l=o(7723);const n=({defaultTitle:e=(0,l.__)("Step","woocommerce"),defaultDescription:t=(0,l.__)("Step description text.","woocommerce"),defaultShowStepNumber:o=!0})=>({title:{type:"string",default:e},description:{type:"string",default:t},showStepNumber:{type:"boolean",default:o}})},6994:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>_});var l=o(1609),n=o(851),r=o(1616),s=o(4656),a=o(7143),i=o(7594),c=o(9292),d=o(7723),u=o(5251),p=o(3603),m=o(2379),g=o(5703),h=o(812),f=o(4597);const E=()=>{const{customerId:e,shouldCreateAccount:t,additionalFields:o}=(0,a.useSelect)((e=>{const t=e(i.CHECKOUT_STORE_KEY);return{customerId:t.getCustomerId(),shouldCreateAccount:t.getShouldCreateAccount(),additionalFields:t.getAdditionalFields()}})),{__internalSetShouldCreateAccount:n,setAdditionalFields:r}=(0,a.useDispatch)(i.CHECKOUT_STORE_KEY),{billingAddress:c,setEmail:E}=(0,u.C)(),{dispatchCheckoutEvent:v}=(0,p.y)(),C=!e&&(0,g.getSetting)("checkoutAllowsGuest",!1)&&(0,g.getSetting)("checkoutAllowsSignup",!1)&&(0,l.createElement)(s.CheckboxControl,{className:"wc-block-checkout__create-account",label:(0,d.__)("Create an account?","woocommerce"),checked:t,onChange:e=>n(e)}),y={email:c.email,...o};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.StoreNoticesContainer,{context:m.tG.CONTACT_INFORMATION}),(0,l.createElement)(f.l,{id:"contact",addressType:"contact",onChange:e=>{const{email:t,...o}=e;E(t),v("set-email-address"),r(o)},values:y,fields:h.fO},C))},v={...(0,o(9017).A)({defaultTitle:(0,d.__)("Contact information","woocommerce"),defaultDescription:(0,d.__)("We'll use this email to send you details and updates about your order.","woocommerce")}),className:{type:"string",default:""},lock:{type:"object",default:{remove:!0,move:!0}}},C=`${h.aW}?redirect_to=${encodeURIComponent(window.location.href)}`,y=()=>{const e=(0,a.useSelect)((e=>e(i.CHECKOUT_STORE_KEY).getCustomerId()));return!(0,g.getSetting)("checkoutShowLoginReminder",!0)||e?null:(0,l.createElement)(l.Fragment,null,(0,d.__)("Already have an account? ","woocommerce"),(0,l.createElement)("a",{href:C},(0,d.__)("Log in.","woocommerce")))},_=(0,r.withFilteredAttributes)(v)((({title:e,description:t,children:o,className:r})=>{const d=(0,a.useSelect)((e=>e(i.CHECKOUT_STORE_KEY).isProcessing())),{showFormStepNumbers:u}=(0,c.Oy)();return(0,l.createElement)(s.FormStep,{id:"contact-fields",disabled:d,className:(0,n.A)("wc-block-checkout__contact-fields",r),title:e,description:t,showStepNumber:u,stepHeadingContent:()=>(0,l.createElement)(y,null)},(0,l.createElement)(E,null),o)}))},1707:()=>{},2931:()=>{},8824:()=>{}}]);